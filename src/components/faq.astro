---
import ContentSection from "~/components/content-section.astro";
interface FAQ {
  question: string;
  answerIntro: string;
  answerPoints: string[];
}

const faqs: FAQ[] = [
  {
    question: "¿Qué incluye la creación de una página web con nosotros?",
    answerIntro:
      "Nuestros desarrollos incluyen todo lo necesario para tener una web profesional:",
    answerPoints: [
      "Diseño personalizado adaptado a tu rubro",
      "Dominio, alojamiento y correo (si lo necesitás)",
      "Carga inicial de contenido",
      "Optimización para celulares (responsive)",
      "Conexión con redes sociales y medios de contacto",
      "Soporte técnico post-entrega",
    ],
  },
  {
    question: "¿Qué tipo de sitios pueden crear?",
    answerIntro: "",
    answerPoints: [
      "Páginas informativas",
      "Tiendas online",
      "Sitios para toma de turnos",
      "Portfolios",
      "Sistemas a medida para cualquier rubro (gastronómicos, servicios, salud, estética, educación, indumentaria, tecnología, etc.)",
    ],
  },
  {
    question: "¿Cómo es el proceso para crear tu página web con nosotros?",
    answerIntro: "",
    answerPoints: [
      "Completás el formulario con info básica de tu negocio",
      "Recibís una propuesta concreta sin compromiso",
      "Aprobás diseño y funcionalidades",
      "Lanzamiento con seguimiento continuo",
    ],
  },
  {
    question: "¿Qué pasa si no sé cómo crear el contenido para la web?",
    answerIntro: "",
    answerPoints: [
      "Te acompañamos en todo el proceso",
      "Organizamos la información y redactamos los textos",
      "Definimos las secciones necesarias",
      "Te guiamos desde cero, incluso si es tu primer sitio",
    ],
  },
  {
    question: "¿Tienen soporte o mantenimiento después de crear la página?",
    answerIntro: "",
    answerPoints: [
      "Planes de soporte técnico opcional",
      "Actualizaciones y mejoras constantes",
      "Contacto vía WhatsApp o email cuando lo necesites",
    ],
  },
  {
    question: "¿En cuánto tiempo puedo tener mi página web lista?",
    answerIntro: "",
    answerPoints: [
      "Tiempo promedio de 3 a 15 días según complejidad",
      "Opción de urgencia con plazos ajustados",
    ],
  },
  {
    question: "¿Qué ventajas tiene crear una página web a medida frente a usar plantillas?",
    answerIntro: "",
    answerPoints: [
      "Mayor velocidad y rendimiento",
      "SEO optimizado para Google",
      "Diseño 100% adaptado a tu marca",
      "Escalabilidad sin límites",
      "Sin dependencia de plugins ni plantillas genéricas",
    ],
  },
  {
    question: "¿Cómo empiezo a crear mi página web con INNOVA?",
    answerIntro: "",
    answerPoints: [
      "Completás el formulario de contacto",
      "Te enviamos una propuesta en menos de 24 hs",
      "También podés escribirnos por WhatsApp o Instagram",
    ],
  },
];

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map((faq) => ({
    "@type": "Question",
    name: faq.question,
    acceptedAnswer: {
      "@type": "Answer",
      text: [faq.answerIntro, ...faq.answerPoints].filter(Boolean).join(" "),
    },
  })),
};

---

<ContentSection title="" id="faq">
  <div class="max-w-7xl w-full flex flex-col sm:flex-row items-start justify-start fade-in">
    <div class="w-full sm:w-2/3 text-left sm:max-w-none">
      <h1 class="text-4xl font-semibold leading-tight sm:text-5xl md:text-6xl">
        Preguntas
        <span class="text-primary whitespace-nowrap">frecuentes FAQ</span>
      </h1>
      <h2 class="text-2xl text-gray-400 sm:text-xl mt-4">
        Respuestas a tus dudas más comunes
      </h2>
    </div>
  </div>
    
  <div class="max-w-4xl mx-auto px-4 py-8 space-y-6 fade-in">
    {faqs.map((faq) => (
      <details class="faq-item border-b pb-4 group">
        <summary class="flex justify-between items-center p-3 cursor-pointer text-lg font-medium">
          {faq.question}
          <span class="transform transition-transform duration-300 group-open:rotate-45 text-primary">
            ➕
          </span>
        </summary>
        <div class="p-3 pt-0">
          {faq.answerIntro && <p class="mb-2">{faq.answerIntro}</p>}
          <ul class="list-disc list-inside space-y-1">
            {faq.answerPoints.map((point) => (
              <li>{point}</li>
            ))}
          </ul>
        </div>
      </details>
    ))}
  </div>
</ContentSection>

<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<style>
.fade-in {
    opacity: 0;
    transition: opacity 1s ease-out;
  }

  .fade-in.visible {
    opacity: 1;
  }
  
  .faq-minimal {
    max-width: 700px;
    margin: 2rem auto;
    font-family: Arial, sans-serif;
  }

  .faq-item {
    padding: 20px;
    border-bottom: 1px solid #eaeaea;
  }

  .faq-question {
    font-size: 25px;
    font-weight: bold;
    cursor: pointer;
    margin: 0;
    transition: color 0.3s ease;
  }

  .faq-question:hover {
    color: #5b13ec;
  }

  .faq-answer {
    margin-top: 12px;
    font-size: 18px;
    text-align: justify;
    text-justify: inter-word;
    line-height: 1.8;
    word-spacing: 2px;
    display: none;
    opacity: 0;
    transform: scaleY(0.9);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .faq-item.active .faq-answer {
    display: block;
    opacity: 1;
    transform: scaleY(1);
  }
   
  @media (max-width: 768px) {
  .fade-in {
    opacity: 1;
  }

  .faq-minimal {
    padding: 10px;
    margin: 1rem auto;
  }

  .faq-item {
    padding: 15px;
    border-bottom: 1px solid #ccc;
  }

  .faq-question {
    font-size: 20px;
    line-height: 1.4;
    color: #333;
  }

  .faq-answer {
    font-size: 16px;
    line-height: 1.6;
    margin-top: 8px;
    padding: 0;
  }

  .fade-in {
    opacity: 1;
    transition: none;
  }

  ul.faq-answer {
    list-style: none;
    padding-left: 1rem;
  }
}
</style>

<script>
  document.querySelectorAll('.faq-item').forEach((item) => {
    const question = item.querySelector('.faq-question');
    if (question) {
      question.addEventListener('click', () => {
        item.classList.toggle('active');
      });
    }
  });
</script>